(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b91c6384"],{"4b53":function(t,e,s){"use strict";s("4e37")},"4d57":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"addmembership"},[s("StarHeader",{staticStyle:{"margin-top":"15px","margin-bottom":"15px"},attrs:{title:"Add Membership"}}),"membership"==t.$route.query.type||"offer"==t.$route.query.type?s("div",{staticClass:"membership-data"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6"},[s("h6",[t._v("Membership: "),s("span",[t._v(" "+t._s(t.$route.query.title)+" ")])])]),s("div",{staticClass:"col-md-6"},[s("h6",[t._v("duration: "),s("span",[t._v(" "+t._s(t.$route.query.duration)+" ")])])]),s("div",{staticClass:"col-md-6"},[s("h6",[t._v("price: "),s("span",[t._v(" "+t._s(t.$route.query.price)+" ")])])]),s("div",{staticClass:"col-md-6"},[s("h6",[t._v("sessions: "),s("span",[t._v(" "+t._s(t.$route.query.sessions)+" ")])])]),s("div",{staticClass:"col-md-6"},[s("h6",[t._v("frees: "),s("span",[t._v(" "+t._s(t.$route.query.frees)+" ")])])]),s("div",{staticClass:"col-md-6"},[s("h6",[t._v("Type: "),s("span",[t._v(" "+t._s(t.$route.query.type)+" ")])])])])]):t._e(),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:""}},[t._v(" Amount: ")]),s("vs-input",{attrs:{state:"dark",type:"text"},model:{value:t.addMembership.amount,callback:function(e){t.$set(t.addMembership,"amount",e)},expression:"addMembership.amount"}})],1)]),s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:""}},[t._v(" Start Date: ")]),s("datetime",{staticStyle:{width:"100%"},attrs:{"hidden-name":"Strat Date",title:"Start Date","input-class":"select-time",type:"datetime"},model:{value:t.addMembership.startDate,callback:function(e){t.$set(t.addMembership,"startDate",e)},expression:"addMembership.startDate"}})],1)]),s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:""}},[t._v(" User: ")]),s("v-select",{staticClass:"select-time",attrs:{options:t.allTrainee,label:"username",reduce:function(t){return t.id}},model:{value:t.addMembership.user,callback:function(e){t.$set(t.addMembership,"user",e)},expression:"addMembership.user"}})],1)]),s("div",{staticClass:"col-md-12",staticStyle:{"margin-bottom":"25px"}},[s("div",[s("vs-button",{on:{click:function(e){return t.dateObligation.push({data:"",amout:""})}}},[t._v("+ Add Obligation")]),t._l(t.dateObligation,(function(e,a){return s("div",{key:a},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-6"},[s("div",[s("label",{attrs:{for:""}},[t._v(" Obligation "+t._s(a+1)+" Date: ")]),s("datetime",{staticStyle:{width:"100%"},attrs:{"hidden-name":"Obligation "+(a+1)+" Amount",title:"Obligation "+(a+1)+" Amount","input-class":"select-time",type:"datetime"},model:{value:e.date,callback:function(s){t.$set(e,"date",s)},expression:"oblig.date"}})],1)]),s("div",{staticClass:"col-md-5"},[s("div",[s("label",{attrs:{for:""}},[t._v(" Obligation "+t._s(a+1)+" Amount: ")]),s("vs-input",{attrs:{state:"dark",type:"text"},model:{value:e.amount,callback:function(s){t.$set(e,"amount",s)},expression:"oblig.amount"}})],1)]),s("div",{staticClass:"col-md-1"},[s("div",[s("label",{attrs:{for:""}}),s("vs-button",{staticStyle:{padding:"3px 5px","margin-top":"8px"},attrs:{color:"danger"},on:{click:function(e){return t.dateObligation.splice(a,1)}}},[t._v("X")])],1)])])])}))],2)])])],1),s("vs-button",{staticStyle:{"margin-bottom":"25px"},on:{click:function(e){return t.AddMembershipToUser()}}},[t._v(" Add Membership To This User ")])],1)},i=[],r=s("2909"),n=(s("159b"),s("a9e3"),s("d3b7"),s("be3b")),o=s("b7c7"),c={components:{StarHeader:o["a"]},data:function(){return{addMembership:{time:"Days"},allTrainee:[],dateObligation:[{date:"",amount:""}]}},created:function(){this.getTraineeUsers()},methods:{AddMembershipToUser:function(){var t=this,e=0;if(this.dateObligation.forEach((function(t){e+=Number(t.amount)})),e+=Number(this.addMembership.amount),e==Number(this.$route.query.price)){var s=this.$vs.loading();n["a"].post("/add-membership",{price:this.$route.query.price,frees:this.$route.query.frees,sessions:this.$route.query.sessions,duration:this.$route.query.duration,amount:this.addMembership.amount,startDate:this.addMembership.startDate,user:this.addMembership.user,membershipType:"offer"==this.$route.query.type?"offer":"subscription",membership:this.$route.query.id,dateObligation:Object(r["a"])(this.dateObligation)}).then((function(){t.$vs.notification({title:"Success !",text:"Membership Added To User Successfully",color:"success",position:"top-center"}),t.dateObligation=[{data:"",amount:""}],t.addMembership={}})).catch((function(e){e.response.data.message&&400===e.response.status&&t.$vs.notification({title:"Failed !",text:e.response.data.message,color:"danger",position:"top-center"})})).finally((function(){return s.close()}))}else console.log(e),this.$vs.notification({title:"Gosh !",text:"Amount And Obligations Must Assign The Price",color:"danger",position:"top-center"})},getTraineeUsers:function(){var t=this,e=this.$vs.loading();n["a"].get("/getUsers?role=trainee&paginate=false").then((function(e){t.allTrainee=e.data})).finally((function(){return e.close()}))}}},d=c,l=(s("4b53"),s("2877")),u=Object(l["a"])(d,a,i,!1,null,null,null);e["default"]=u.exports},"4e37":function(t,e,s){},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,s){var a=s("1d80"),i=s("5899"),r="["+i+"]",n=RegExp("^"+r+r+"*"),o=RegExp(r+r+"*$"),c=function(t){return function(e){var s=String(a(e));return 1&t&&(s=s.replace(n,"")),2&t&&(s=s.replace(o,"")),s}};t.exports={start:c(1),end:c(2),trim:c(3)}},7156:function(t,e,s){var a=s("861d"),i=s("d2bb");t.exports=function(t,e,s){var r,n;return i&&"function"==typeof(r=e.constructor)&&r!==s&&a(n=r.prototype)&&n!==s.prototype&&i(t,n),t}},a9e3:function(t,e,s){"use strict";var a=s("83ab"),i=s("da84"),r=s("94ca"),n=s("6eeb"),o=s("5135"),c=s("c6b6"),d=s("7156"),l=s("c04e"),u=s("d039"),p=s("7c73"),m=s("241c").f,f=s("06cf").f,b=s("9bf2").f,h=s("58a8").trim,v="Number",g=i[v],y=g.prototype,_=c(p(y))==v,C=function(t){var e,s,a,i,r,n,o,c,d=l(t,!1);if("string"==typeof d&&d.length>2)if(d=h(d),e=d.charCodeAt(0),43===e||45===e){if(s=d.charCodeAt(2),88===s||120===s)return NaN}else if(48===e){switch(d.charCodeAt(1)){case 66:case 98:a=2,i=49;break;case 79:case 111:a=8,i=55;break;default:return+d}for(r=d.slice(2),n=r.length,o=0;o<n;o++)if(c=r.charCodeAt(o),c<48||c>i)return NaN;return parseInt(r,a)}return+d};if(r(v,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var $,M=function(t){var e=arguments.length<1?0:t,s=this;return s instanceof M&&(_?u((function(){y.valueOf.call(s)})):c(s)!=v)?d(new g(C(e)),s,M):C(e)},x=a?m(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),A=0;x.length>A;A++)o(g,$=x[A])&&!o(M,$)&&b(M,$,f(g,$));M.prototype=y,y.constructor=M,n(i,v,M)}}}]);
//# sourceMappingURL=chunk-b91c6384.6fda313d.js.map