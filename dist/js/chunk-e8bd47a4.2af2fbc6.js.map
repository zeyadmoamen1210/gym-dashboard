{"version":3,"sources":["webpack:///./src/views/UserPaymentHistory.vue?4bb9","webpack:///src/views/UserPaymentHistory.vue","webpack:///./src/views/UserPaymentHistory.vue?ae53","webpack:///./src/views/UserPaymentHistory.vue","webpack:///./src/assets/money-bag-with-dollar-symbol.svg","webpack:///./src/views/UserPaymentHistory.vue?a60e","webpack:///./src/assets/dollar-symbol.svg","webpack:///./src/assets/printer.svg","webpack:///./src/assets/trash.svg","webpack:///./src/assets/delete.svg"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","scopedSlots","_u","key","fn","_v","proxy","_l","tr","i","attrs","id","staticStyle","user","photo","_s","username","Date","dateObligation","date","toLocaleDateString","_id","amount","status","_e","on","$event","handlePayBil","readyToPrint","isAdmin","handleDeleteObligation","totalPages","model","value","callback","$$v","page","expression","payBil","showPayConfirm","currObli","ref","newFatora","$set","payNewFatora","removeObligation","showdeleteObligConfirm","staticRenderFns","component","module","exports"],"mappings":"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","file":"js/chunk-e8bd47a4.2af2fbc6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"recent-history\"},[_c('div',{staticClass:\"container\"},[_vm._m(0),_c('vs-table',{scopedSlots:_vm._u([{key:\"thead\",fn:function(){return [_c('vs-tr',[_c('vs-th',[_vm._v(\" User. \")]),_c('vs-th',[_vm._v(\" Date \")]),_c('vs-th',[_vm._v(\" Client ID \")]),_c('vs-th',[_vm._v(\" Amount \")]),_c('vs-th',[_vm._v(\" Status \")]),_c('vs-th',[_vm._v(\" Actions \")])],1)]},proxy:true},{key:\"tbody\",fn:function(){return _vm._l((_vm.obligations),function(tr,i){return _c('vs-tr',{key:i,attrs:{\"data\":tr.id}},[_c('vs-td',{staticStyle:{\"display\":\"flex\"}},[_c('vs-avatar',{attrs:{\"history\":\"\",\"history-gradient\":\"\"}},[_c('img',{attrs:{\"src\":tr.user[0].photo,\"alt\":\"\"}})]),_c('span',{staticStyle:{\"padding\":\"10px\"}},[_vm._v(\" \"+_vm._s(tr.user[0].username)+\" \")])],1),_c('vs-td',[_vm._v(\" \"+_vm._s(new Date(tr.dateObligation.date).toLocaleDateString())+\" \")]),_c('vs-td',[_vm._v(\" \"+_vm._s(tr.user[0]._id)+\" \")]),_c('vs-td',{staticStyle:{\"font-weight\":\"500\"}},[_c('img',{staticStyle:{\"width\":\"20px\"},attrs:{\"src\":require(\"@/assets/money-bag-with-dollar-symbol.svg\"),\"alt\":\"\"}}),_vm._v(\" \"+_vm._s(tr.dateObligation.amount)+\" \")]),_c('vs-td',[(tr.dateObligation.status == 'upcoming')?_c('span',{staticClass:\"status\",staticStyle:{\"background\":\"#f9ca24\"}},[_vm._v(\" \"+_vm._s(tr.dateObligation.status)+\" \")]):_vm._e(),(tr.dateObligation.status == 'paid')?_c('span',{staticClass:\"status\",staticStyle:{\"background\":\"#6ab04c\"}},[_vm._v(\" \"+_vm._s(tr.dateObligation.status)+\" \")]):_vm._e(),(tr.dateObligation.status == 'Draft')?_c('span',{staticClass:\"status\",staticStyle:{\"background\":\"#eb4d4b\"}},[_vm._v(\" \"+_vm._s(tr.dateObligation.status)+\" \")]):_vm._e()]),_c('vs-td',{staticStyle:{}},[(tr.dateObligation.status != 'paid')?_c('vs-button',{staticStyle:{\"margin\":\"auto\"},attrs:{\"color\":\"whatsapp\",\"circle\":\"\",\"icon\":\"\",\"floating\":\"\"},on:{\"click\":function($event){return _vm.handlePayBil(tr, tr.dateObligation)}}},[_c('img',{staticStyle:{\"width\":\"15px\"},attrs:{\"src\":require(\"@/assets/dollar-symbol.svg\"),\"alt\":\"\"}})]):_vm._e(),_c('vs-button',{staticStyle:{\"margin\":\"auto\"},attrs:{\"color\":\"primary\",\"circle\":\"\",\"icon\":\"\",\"floating\":\"\"},on:{\"click\":function($event){return _vm.readyToPrint(tr)}}},[_c('img',{staticStyle:{\"width\":\"15px\"},attrs:{\"src\":require(\"@/assets/printer.svg\"),\"alt\":\"\"}})]),(_vm.isAdmin())?_c('vs-button',{staticStyle:{\"margin\":\"auto\"},attrs:{\"color\":\"#ff3e4e\",\"circle\":\"\",\"icon\":\"\",\"floating\":\"\"},on:{\"click\":function($event){return _vm.handleDeleteObligation(tr)}}},[_c('img',{staticStyle:{\"width\":\"15px\"},attrs:{\"src\":require(\"@/assets/delete.svg\"),\"alt\":\"\"}})]):_vm._e()],1)],1)})},proxy:true},(_vm.totalPages > 1)?{key:\"footer\",fn:function(){return [_c('vs-pagination',{attrs:{\"length\":_vm.totalPages},model:{value:(_vm.page),callback:function ($$v) {_vm.page=$$v},expression:\"page\"}})]},proxy:true}:null],null,true)})],1),_c('vs-dialog',{attrs:{\"color\":\"danger\",\"width\":\"550px\",\"not-center\":\"\"},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('h4',{staticClass:\"not-margin\"},[_vm._v(\" Pay Obligation \")])]},proxy:true},{key:\"footer\",fn:function(){return [_c('div',{staticClass:\"con-footer\",staticStyle:{\"display\":\"flex\"}},[_c('vs-button',{attrs:{\"color\":\"primary\",\"transparent\":\"\"},on:{\"click\":function($event){return _vm.payBil()}}},[_c('img',{staticStyle:{\"width\":\"20px\"},attrs:{\"src\":require(\"@/assets/money-bag-with-dollar-symbol.svg\"),\"alt\":\"\"}}),_vm._v(\" Pay This Obligation \")]),_c('vs-button',{attrs:{\"dark\":\"\",\"transparent\":\"\"},on:{\"click\":function($event){_vm.showPayConfirm=false}}},[_vm._v(\" Cancel \")])],1)]},proxy:true}]),model:{value:(_vm.showPayConfirm),callback:function ($$v) {_vm.showPayConfirm=$$v},expression:\"showPayConfirm\"}},[_c('div',{staticClass:\"con-content\"},[_c('p',[_vm._v(\" Are You Sure You Want To Pay This Obligations \"),_c('br'),_vm._v(\" This Will Cost \"),_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\" \"+_vm._s(_vm.currObli.amount)+\" \")]),_vm._v(\" \"),_c('img',{staticStyle:{\"width\":\"20px\"},attrs:{\"src\":require(\"@/assets/money-bag-with-dollar-symbol.svg\"),\"alt\":\"\"}})])])]),_c('b-modal',{ref:\"modal\",staticClass:\"add-memb\",attrs:{\"id\":\"modal-preven-payNew\",\"title\":\"Submit Your Name\",\"hide-header\":\"\",\"hide-footer\":\"\"}},[_c('div',[_c('div',{staticClass:\"center content-inputs\"},[_c('label',{attrs:{\"for\":\"\"}},[_vm._v(\" Amount: \")]),_c('vs-input',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"number\",\"placeholder\":\"Amount\"},model:{value:(_vm.newFatora.amount),callback:function ($$v) {_vm.$set(_vm.newFatora, \"amount\", $$v)},expression:\"newFatora.amount\"}})],1),_c('vs-button',{staticStyle:{\"margin-top\":\"15px\"},on:{\"click\":function($event){return _vm.payNewFatora()}}},[_vm._v(\" Pay Obligation \")])],1)]),_c('vs-dialog',{attrs:{\"color\":\"danger\",\"width\":\"550px\",\"not-center\":\"\"},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('h4',{staticClass:\"not-margin\"},[_vm._v(\" Delete Obligation \")])]},proxy:true},{key:\"footer\",fn:function(){return [_c('div',{staticClass:\"con-footer\",staticStyle:{\"display\":\"flex\"}},[_c('vs-button',{attrs:{\"color\":\"danger\",\"transparent\":\"\"},on:{\"click\":_vm.removeObligation}},[_c('img',{staticStyle:{\"width\":\"20px\",\"margin\":\"0 4px\"},attrs:{\"src\":require(\"@/assets/trash.svg\"),\"alt\":\"\"}}),_vm._v(\" Ok \")]),_c('vs-button',{attrs:{\"dark\":\"\",\"transparent\":\"\"},on:{\"click\":function($event){_vm.showdeleteObligConfirm=false}}},[_vm._v(\" Cancel \")])],1)]},proxy:true}]),model:{value:(_vm.showdeleteObligConfirm),callback:function ($$v) {_vm.showdeleteObligConfirm=$$v},expression:\"showdeleteObligConfirm\"}},[_c('div',{staticClass:\"con-content\"},[_c('p',[_vm._v(\" Are You Sure You Want To Delete This Obligation \")])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"recent-history-head\"},[_c('div',{staticClass:\"history-obligation\"},[_c('div',[_c('h4',{staticClass:\"head\"},[_vm._v(\"Obligations History\")])])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"recent-history\">\r\n    <div class=\"container\">\r\n      <div class=\"recent-history-head\">\r\n        <div class=\"history-obligation\">\r\n          <div>\r\n            <h4 class=\"head\">Obligations History</h4>\r\n          </div>\r\n          <!-- <div >\r\n            <vs-button @click=\"$bvModal.show('modal-preven-payNew')\">Pay New Obligation</vs-button>\r\n          </div> -->\r\n        </div>\r\n        <!-- <div>\r\n          <div class=\"form-group\">\r\n             <vs-input state=\"primary\" primary v-model=\"search\" placeholder=\"Search ..\">\r\n                <template #icon>\r\n                  <img style=\"width:15px\" src=\"@/assets/loupe.svg\" alt=\"\">\r\n                </template>\r\n              </vs-input>\r\n          </div>\r\n        </div> -->\r\n      </div>\r\n    <vs-table>\r\n        <template #thead>\r\n          <vs-tr>\r\n            <vs-th>\r\n              User.\r\n            </vs-th>\r\n            <vs-th>\r\n              Date\r\n            </vs-th>\r\n         \r\n            <vs-th>\r\n              Client ID\r\n            </vs-th>\r\n            <vs-th>\r\n              Amount\r\n            </vs-th>\r\n            <vs-th>\r\n              Status\r\n            </vs-th>\r\n            <vs-th>\r\n              Actions\r\n            </vs-th>\r\n          </vs-tr>\r\n        </template>\r\n        <template #tbody>\r\n          <vs-tr\r\n            :key=\"i\"\r\n            v-for=\"(tr, i) in obligations\"\r\n            :data=\"tr.id\"\r\n          >\r\n             <vs-td style=\"display:flex\">\r\n              <vs-avatar history history-gradient>\r\n                <img :src=\"tr.user[0].photo\" alt=\"\">\r\n              </vs-avatar>\r\n              <span style=\"    padding: 10px;\">\r\n                {{ tr.user[0].username }}\r\n              </span>\r\n            </vs-td>\r\n            <vs-td>\r\n             {{ new Date(tr.dateObligation.date).toLocaleDateString() }}\r\n            </vs-td>\r\n            <vs-td>\r\n            {{ tr.user[0]._id }}\r\n            </vs-td>\r\n            <vs-td style=\"font-weight: 500;\">\r\n                <img style=\"width:20px\" src=\"@/assets/money-bag-with-dollar-symbol.svg\" alt=\"\">\r\n            {{ tr.dateObligation.amount }}\r\n            </vs-td>\r\n            <vs-td>\r\n                <span class=\"status\" style=\"background:#f9ca24\" v-if=\"tr.dateObligation.status == 'upcoming'\">\r\n                    {{ tr.dateObligation.status }}\r\n                </span>\r\n                <span class=\"status\" style=\"background:#6ab04c\" v-if=\"tr.dateObligation.status == 'paid'\">\r\n                    {{ tr.dateObligation.status }}\r\n                </span>\r\n                <span class=\"status\" style=\"background:#eb4d4b\" v-if=\"tr.dateObligation.status == 'Draft'\">\r\n                    {{ tr.dateObligation.status }}\r\n                </span>\r\n\r\n            \r\n            </vs-td>\r\n            \r\n           \r\n            <vs-td style=\"actions\">\r\n            <vs-button\r\n              color=\"whatsapp\"\r\n              circle\r\n              icon\r\n              style=\"margin:auto\"\r\n              @click=\"handlePayBil(tr, tr.dateObligation)\"\r\n              floating\r\n              v-if=\"tr.dateObligation.status != 'paid'\"\r\n            >\r\n              <img style=\"width:15px\" src=\"@/assets/dollar-symbol.svg\" alt=\"\">\r\n            </vs-button>\r\n            <vs-button\r\n              color=\"primary\"\r\n              circle\r\n              icon\r\n              floating\r\n              style=\"margin:auto\"\r\n              @click=\"readyToPrint(tr)\"\r\n            >\r\n              <img style=\"width:15px\" src=\"@/assets/printer.svg\" alt=\"\">\r\n            </vs-button>\r\n\r\n            <vs-button\r\n              color=\"#ff3e4e\"\r\n              circle\r\n              icon\r\n              style=\"margin:auto\"\r\n              floating\r\n              @click=\"handleDeleteObligation(tr)\"\r\n              v-if=\"isAdmin()\"\r\n            >\r\n              <img style=\"width:15px\" src=\"@/assets/delete.svg\" alt=\"\">\r\n            </vs-button>\r\n            </vs-td>\r\n          </vs-tr>\r\n        </template>\r\n        <template #footer v-if=\"totalPages > 1\">\r\n          <vs-pagination v-model=\"page\" :length=\"totalPages\" />\r\n        </template>\r\n      </vs-table>\r\n  </div>\r\n\r\n\r\n\r\n        <vs-dialog color=\"danger\" width=\"550px\" not-center v-model=\"showPayConfirm\">\r\n        <template #header>\r\n          <h4 class=\"not-margin\">\r\n            Pay Obligation\r\n          </h4>\r\n        </template>\r\n\r\n\r\n        <div class=\"con-content\">\r\n          <p>\r\n            Are You Sure You Want To Pay This Obligations <br/> This Will Cost <span style=\"font-weight:bold\"> {{ currObli.amount }} </span>  <img style=\"width:20px\" src=\"@/assets/money-bag-with-dollar-symbol.svg\" alt=\"\">\r\n          </p>\r\n        </div>\r\n\r\n        <template #footer>\r\n          <div class=\"con-footer\" style=\"display:flex\">\r\n            <vs-button color=\"primary\" @click=\"payBil()\" transparent>\r\n              <img style=\"width:20px\" src=\"@/assets/money-bag-with-dollar-symbol.svg\" alt=\"\"> Pay This Obligation\r\n            </vs-button>\r\n            <vs-button @click=\"showPayConfirm=false\" dark transparent>\r\n              Cancel\r\n            </vs-button>\r\n          </div>\r\n        </template>\r\n      </vs-dialog>\r\n\r\n\r\n\r\n\r\n      \r\n     <b-modal\r\n      id=\"modal-preven-payNew\"\r\n      ref=\"modal\"\r\n      title=\"Submit Your Name\"\r\n      hide-header\r\n      hide-footer\r\n      class=\"add-memb\"\r\n    >\r\n      <div>\r\n       \r\n\r\n        <div class=\"center content-inputs\">\r\n            <label for=\"\"> Amount: </label>\r\n            <vs-input style=\"width:100%\" v-model=\"newFatora.amount\" type=\"number\" placeholder=\"Amount\" />\r\n        </div>\r\n\r\n\r\n        <vs-button style=\"margin-top:15px;\" @click=\"payNewFatora()\">\r\n            Pay Obligation\r\n        </vs-button>\r\n      </div>\r\n    </b-modal>\r\n\r\n\r\n\r\n    <vs-dialog color=\"danger\" width=\"550px\" not-center v-model=\"showdeleteObligConfirm\">\r\n        <template #header>\r\n          <h4 class=\"not-margin\">\r\n            Delete Obligation \r\n          </h4>\r\n        </template>\r\n\r\n\r\n        <div class=\"con-content\">\r\n          <p>\r\n            Are You Sure You Want To Delete This Obligation\r\n          </p>\r\n        </div>\r\n\r\n        <template #footer>\r\n          <div class=\"con-footer\" style=\"display:flex\">\r\n            <vs-button color=\"danger\" @click=\"removeObligation\" transparent>\r\n              <img style=\"width: 20px;margin: 0 4px;\" src=\"@/assets/trash.svg\" alt=\"\"> Ok\r\n            </vs-button>\r\n            <vs-button @click=\"showdeleteObligConfirm=false\" dark transparent>\r\n              Cancel\r\n            </vs-button>\r\n          </div>\r\n        </template>\r\n      </vs-dialog>\r\n\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axiosApi from '@/plugins/axios.js';\r\n\r\nexport default {\r\n    data(){\r\n        return {\r\n            obligations:[],\r\n            page:1,\r\n            totalPages: 1,\r\n            showPayConfirm: false,\r\n            currObli:{},\r\n            payNew:{},\r\n            user: {},\r\n            newFatora: {},\r\n            membId:\"\",\r\n            currObliToDelete:{},\r\n            showdeleteObligConfirm: false,\r\n        }\r\n    },\r\n    methods:{\r\n      isAdmin(){\r\n          return (JSON.parse(localStorage.getItem('OxfitGymUser')).role == 'admin')\r\n        },\r\n      readyToPrint(invoice){\r\n        localStorage.setItem(\"ReadyToPrint\", JSON.stringify(invoice));\r\n        if(localStorage.getItem('ReadyToPrint')){\r\n          this.$router.push(`/print-invoice/${invoice._id}`)\r\n        }\r\n      },\r\n        handlePayBil(fullOblig, oblig){\r\n            this.showPayConfirm = true;\r\n            this.user = fullOblig\r\n            this.currObli = {...oblig}\r\n        },\r\n        handleDeleteObligation(oblig){\r\n          this.currObliToDelete = {...oblig};\r\n          this.showdeleteObligConfirm = true;\r\n        },\r\n        removeObligation(){\r\n          this.showdeleteObligConfirm = false;\r\n          const loading = this.$vs.loading();\r\n          console.log(this.currObliToDelete);\r\n          axiosApi.post(`/deleteObligation`, {\r\n            obligationId: this.currObliToDelete.dateObligation._id\r\n          }).then(() => {\r\n            this.$vs.notification({\r\n                title:\"Success !\",\r\n                text:`Obligation Deleted Successfully`,\r\n                color:\"success\",\r\n                position:\"top-center\"\r\n            });\r\n            this.getPaymentHistory();\r\n          }).finally(() => loading.close())\r\n\r\n        },\r\n        payBil(){\r\n            this.showPayConfirm = false;\r\n            const loading = this.$vs.loading();\r\n            axiosApi.post(`/payBill`, {memberId: this.user.memb[0]._id, obligionId: this.currObli._id , amount: this.currObli.amount}).then(() => {\r\n                this.$vs.notification({\r\n                    title:\"Success !\",\r\n                    text:`Obligation Paid Successfully`,\r\n                    color:\"success\",\r\n                    position:\"top-center\"\r\n                });\r\n                this.getPaymentHistory();\r\n            }).finally(() => loading.close());\r\n        },\r\n        payNewFatora(){\r\n          this.$bvModal.hide('modal-preven-payNew');\r\n            const loading = this.$vs.loading();\r\n            console.log(this.user)\r\n            this.membId = this.obligations[0].memb[0]._id;\r\n            axiosApi.post(`/payBill`, {\r\n              memberId: this.membId,\r\n              amount: this.newFatora.amount\r\n            }).then(() => {\r\n              console.log(\"hello\")\r\n                this.$vs.notification({\r\n                    title:\"Success !\",\r\n                    text:`Obligation Paid Successfully`,\r\n                    color:\"success\",\r\n                    position:\"top-center\"\r\n                });\r\n                this.getPaymentHistory();\r\n            }).finally(() => loading.close());\r\n        },\r\n        getPaymentHistory(val = 1){\r\n            const loading = this.$vs.loading();\r\n            axiosApi.get(`getBills?id=${this.$route.params.id}&page=${val}`).then(res => {\r\n                this.obligations = res.data.docs;\r\n                this.page = res.data.page;\r\n                this.totalPages = res.data.totalPages;\r\n            }).finally(() => loading.close());\r\n        },\r\n        \r\n    },\r\n    watch:{\r\n        page(val){\r\n            this.getPaymentHistory(val);\r\n        }\r\n    },\r\n    created(){\r\n        this.getPaymentHistory();\r\n        \r\n    },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.recent-history{\r\n  padding: 15px 23px;\r\n\r\n  .history-obligation{\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n  }\r\n  .vs-table__td:last-child{\r\n      display: flex !important;\r\n      button{\r\n        margin: 0 3px;\r\n      }\r\n    }\r\n    .status{\r\n        padding: 3px 8px;\r\n        color: #FFF;\r\n    border-radius: 5px;\r\n    font-weight: 500;\r\n    margin-top: 13px;\r\n    text-transform: uppercase;\r\n    min-width: 98px;\r\n    display: block;\r\n    }\r\n    .vs-table__td{\r\n      text-align: center !important;\r\n    }\r\n    .vs-table__th__content{\r\n        display: block !important;\r\n    }\r\n    \r\n    .vs-table__th__content{\r\n     font-weight: 600 !important;\r\n     text-align: center;\r\n   }\r\n  .recent-history-head{\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    div{\r\n      &:first-of-type{\r\n        flex:1;\r\n        h4{\r\n          padding-top:5px;\r\n        }\r\n      }\r\n    }\r\n   \r\n\r\n    \r\n\r\n    .head{\r\n      color:#2C4484;\r\n      font-weight: bold;\r\n      margin-bottom: 15px;\r\n      \r\n    }\r\n\r\n  }\r\n  \r\n}\r\n\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPaymentHistory.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPaymentHistory.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserPaymentHistory.vue?vue&type=template&id=f8b3064e&\"\nimport script from \"./UserPaymentHistory.vue?vue&type=script&lang=js&\"\nexport * from \"./UserPaymentHistory.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserPaymentHistory.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/money-bag-with-dollar-symbol.2264c3e6.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPaymentHistory.vue?vue&type=style&index=0&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/dollar-symbol.e84c9222.svg\";","module.exports = __webpack_public_path__ + \"img/printer.caf4af24.svg\";","module.exports = __webpack_public_path__ + \"img/trash.bd7cd293.svg\";","module.exports = __webpack_public_path__ + \"img/delete.684f8542.svg\";"],"sourceRoot":""}