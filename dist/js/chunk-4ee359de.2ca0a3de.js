(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4ee359de"],{"7db0":function(e,t,s){"use strict";var i=s("23e7"),a=s("b727").find,n=s("44d2"),l="find",o=!0;l in[]&&Array(1)[l]((function(){o=!1})),i({target:"Array",proto:!0,forced:o},{find:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),n(l)},"93b5":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"complaint-page"},[i("div",{staticClass:"container"},[e._m(0),i("div",{staticClass:"complaint-section"},[i("div",[i("div",{staticClass:"users"},e._l(e.allComplaints,(function(t){return i("div",{key:t.id,staticClass:"user",on:{click:function(s){return e.assignUserCom(t)}}},[i("div",[t&&t.user&&t.user.photo?i("vs-avatar",{attrs:{size:"50"}},[i("img",{attrs:{src:t.user.photo,alt:""}})]):i("vs-avatar",{attrs:{size:"50"}},[i("img",{attrs:{src:"https://res.cloudinary.com/dvtdxd9xx/image/upload/v1612687522/vinexaxyxbpuyxbzfvwt.jpg",alt:""}})])],1),t&&t.user?i("div",[i("div",[i("h6",{staticStyle:{"font-size":"14px"}},[e._v(" "+e._s(t.user.username)+" ")]),i("span",[e._v(" "+e._s(new Date(t.time).toLocaleDateString())+" ")])]),i("p",[e._v(" "+e._s(t.comment[t.comment.length-1].comment)+" ")])]):e._e()])})),0),i("div",{staticStyle:{position:"relative",flex:"1"}},[e.selectedUser&&e.selectedUser.user?i("div",{staticClass:"header"},[i("div",{staticClass:"user"},[i("div",[i("vs-avatar",[i("img",{attrs:{src:e.selectedUser.user.photo,alt:""}})])],1),i("div",[i("h6",{staticStyle:{"font-size":"17px","padding-top":"12px","text-transform":"capitalize"}},[e._v(" "+e._s(e.selectedUser.user.username)+" ")])]),i("div",[i("span",[e._v(" "+e._s(new Date(e.selectedUser.time).toLocaleDateString())+" ")])])])]):e._e(),e.selectedUser&&e.selectedUser.user?i("div",{staticClass:"email-section",staticStyle:{"margin-bottom":"70px","overflow-x":"hidden",height:"500px","overflow-y":"scroll"},attrs:{id:"emailSec"}},[e._l(e.selectedUser.comment,(function(t){return i("div",{key:t._id},[t.user.id==e.selectedUser.user.id?i("div",{staticStyle:{display:"block"}},[i("h6",{staticStyle:{display:"inline-block",margin:"15px 20px",color:"#656565"}},[i("h6",{staticStyle:{padding:"10px",background:"#EEE","border-radius":"9px"}},[e._v(" "+e._s(t.comment)+" ")]),i("span",{staticStyle:{display:"block","font-size":"9px",margin:"5px 0px"}},[e._v(" "+e._s(e.$moment(t.date).fromNow())+" ")])])]):i("div",{staticStyle:{display:"block",overflow:"hidden",width:"100%"}},[i("h6",{staticStyle:{display:"inline-block",margin:"15px 20px",color:"rgb(255 255 255)","text-align":"right",float:"right"}},[i("h6",{staticStyle:{background:"rgb(44 68 132)",padding:"10px","border-radius":"9px"}},[e._v(" "+e._s(t.comment)+" ")]),i("span",{staticStyle:{display:"block",color:"#333","font-size":"9px",margin:"5px 0"}},[e._v(" "+e._s(e.$moment(t.date).fromNow())+" ")])])])])})),i("div",{staticClass:"send-section"},[i("div",[i("vs-input",{attrs:{placeholder:"Replay"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.sendComplant(t)}},model:{value:e.myComment,callback:function(t){e.myComment=t},expression:"myComment"}}),i("div",{staticClass:"icons"},[i("img",{attrs:{src:s("ad0d"),alt:""},on:{click:e.sendComplant}})])],1)])],2):e._e()])])])])])},a=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"complaint-head"},[s("div",{staticStyle:{display:"flex",flex:"1"}},[s("div",[s("h4",{staticClass:"head"},[e._v("Complaint")])])])])}],n=(s("d3b7"),s("7db0"),s("be3b")),l={components:{},created:function(){this.getAllComplaints()},data:function(){return{allComplaints:[],page:1,totalPages:1,selectedUser:{},myComment:""}},methods:{sendComplant:function(){var e=this;if(this.selectedUser&&this.selectedUser.user){var t=this.$vs.loading();n["a"].post("/responseComplaint",{userId:this.selectedUser.user.id,comment:this.myComment}).then((function(){e.myComment=" ",e.getAllComplaints(e.selectedUser)})).finally((function(){return t.close()}))}},assignUserCom:function(e){document.querySelector("#emailSec")&&(document.querySelector("#emailSec").scrollTop=document.querySelector("#emailSec").scrollHeight),this.selectedUser=e},getAllComplaints:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,s=this.$vs.loading();n["a"].get("/fetchComplaints").then((function(s){e.allComplaints=s.data.docs,e.page=s.data.docs,e.totalPages=s.data.totalPages,null!=t?(console.log("selected "),e.selectedUser=e.allComplaints.find((function(e){return e.id===t.id})),console.log(e.allComplaints.find((function(e){return e.id===t.id})))):e.selectedUser=e.allComplaints[0]})).finally((function(){return s.close()})),console.log(document.querySelector("#emailSec")),document.querySelector("#emailSec")&&(document.querySelector("#emailSec").scrollTop=document.querySelector("#emailSec").scrollHeight)}}},o=l,c=(s("a6d7"),s("2877")),r=Object(c["a"])(o,i,a,!1,null,null,null);t["default"]=r.exports},a6d7:function(e,t,s){"use strict";s("a82a")},a82a:function(e,t,s){},ad0d:function(e,t,s){e.exports=s.p+"img/send.7d10f514.svg"}}]);
//# sourceMappingURL=chunk-4ee359de.2ca0a3de.js.map