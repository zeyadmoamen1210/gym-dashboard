(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5899a575"],{"1d3e":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAhCAYAAABeD2IVAAAABHNCSVQICAgIfAhkiAAAAr1JREFUWEfdV8112zAMBiTd6w2iTlBvUNmi7+kEsSdoPUGSCeJMEHeCOmdTjjxBkwnqEZI7JfTBj8qTJVGifuJDeLGeJYIfgQ8fAIQzryAIRq7r/gWAkeM4k+12+1yEgGfGBEKIXwBwp8+9lVLeWIEKw/ASAK4QccQbiOgVAH5HUbTpewkhBIO4bgVqNpuNiYjdW1pKqa9xHB/6AOsESggRAMCT4eCJlDI+CygGQkQ/dbg4ZGPDwUxKDqVxcaiTJFmyR4Mg8F3XvctooKngI6Kvnw+IeOJ5RFwi8wcR//S5fcXeI4ELobI9Yo9CCOaPyTO2hk6+I6IfnBQdL3zLoChncdIJRW6TUuqQTwYOoed5x3DpkM0R8Uo/vyAiS8RxIeIr69YJKCnlh+tWIaR7KSUn1sn6HKCm0+nccRx2//sNtbhuHMe5ryobeTcM6iktqg8WSbGSUi5N3Czo4FJKueoUPgaUpulTXm8atGodRdHC9I2255vKViOnsqqeCR4APBLRmjNF/14YDq8stjbZ3QiqwIF3d1eALWoVKzvXylIFEEJcE5Gvlb/0vhFUGIZcCi6I6CWKorEG84CI3Ek0rRJndKIwN3lVty558SzqlBa+f3kDLUvHo5TyBLxVl1AHKp8pRLRJkmTheR53ELZlqSSOg4JqipPh/fCgCuHrgmv48DGKMAyfEfFbF0Rpmi52u926RtHbE52NFRr9NtjelFJ+URJ6cypD0MVbVV7Sl2weHOqyLwOlucWt8BcbVxERTz7zqm8H8xQbZ9H0PI9HrO81wN4A4KaqyGZ7BgWVM8pDBnshYKXX/+8BIFZKrarKyuBEtwlXm28+xFNtAAzCKQDgcat2rusLKk1THhyyJDDqFE+8deTti8O43yQb3Lpwr81ZZZXuQyHMWqEqe8eRSren7Fbb6t8HG9MjrpON/znD7QjEGa6zAAAAAElFTkSuQmCC"},"266d":function(t,e,s){"use strict";s("7406")},3641:function(t,e,s){"use strict";s("c63c")},7406:function(t,e,s){},c63c:function(t,e,s){},d605:function(t,e,s){t.exports=s.p+"img/black-shop-tag.8a64a8e2.svg"},d7e1:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"offers-page"},[a("b-modal",{ref:"modal",staticClass:"add-memb",attrs:{id:"modal-add-offer",title:"Submit Your Name","hide-header":"","hide-footer":""}},[a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"center content-inputs"},[a("label",{attrs:{for:""}},[t._v(" Title: ")]),a("vs-input",{staticStyle:{width:"100%"},attrs:{placeholder:"Title"},model:{value:t.addOffer.title,callback:function(e){t.$set(t.addOffer,"title",e)},expression:"addOffer.title"}})],1)]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"center content-inputs"},[a("label",{attrs:{for:""}},[t._v(" Duration: ")]),a("vs-input",{staticStyle:{"margin-right":"5px"},attrs:{type:"number",placeholder:"Duration"},model:{value:t.addOffer.duration,callback:function(e){t.$set(t.addOffer,"duration",e)},expression:"addOffer.duration"}})],1)]),a("div",{staticClass:"col-md-6"},[a("div",[a("label",{attrs:{for:""}},[t._v(" Type: ")]),a("v-select",{staticClass:"select-time",staticStyle:{background:"rgba(var(--vs-gray-2), 1) !important"},attrs:{options:["Days","Minutes"]},model:{value:t.addOffer.time,callback:function(e){t.$set(t.addOffer,"time",e)},expression:"addOffer.time"}})],1)]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"center content-inputs"},[a("label",{attrs:{for:""}},[t._v(" Price: ")]),a("vs-input",{staticStyle:{width:"100%"},attrs:{placeholder:"Price"},model:{value:t.addOffer.price,callback:function(e){t.$set(t.addOffer,"price",e)},expression:"addOffer.price"}})],1)]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"center content-inputs"},[a("label",{attrs:{for:""}},[t._v(" Sesstion: ")]),a("vs-input",{staticStyle:{width:"100%"},attrs:{placeholder:"Number OF Sesstions"},model:{value:t.addOffer.sessions,callback:function(e){t.$set(t.addOffer,"sessions",e)},expression:"addOffer.sessions"}})],1)]),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"center content-inputs"},[a("label",{attrs:{for:""}},[t._v(" Frees: ")]),a("vs-input",{staticStyle:{width:"100%"},attrs:{type:"number",placeholder:"Frees"},model:{value:t.addOffer.frees,callback:function(e){t.$set(t.addOffer,"frees",e)},expression:"addOffer.frees"}})],1)]),a("div",{staticClass:"col-md-12",staticStyle:{"margin-bottom":"18px"}},[a("div",{staticClass:"file-choose"},[a("input",{attrs:{type:"file"},on:{change:t.file_selected}}),t.url?a("span",[a("img",{attrs:{src:t.url,width:"300",height:"150"}})]):a("span",[a("img",{attrs:{src:s("1d3e")}}),t._v(" Attach An Image ")])])])]),a("vs-button",{on:{click:function(e){return t.addNewOffer()}}},[t._v(" Add Offer ")])],1)]),a("div",{staticClass:"container"},[a("div",[a("div",{staticClass:"offers-head"},[t._m(0),a("div",{staticStyle:{display:"flex"}},[t.isAdmin()?a("div",{staticStyle:{flex:"1"}},[a("vs-button",{on:{click:t.handleAddOffer}},[t._v(" + ")])],1):t._e()])]),a("div",{staticClass:"row"},t._l(t.offers,(function(t){return a("div",{key:t.id,staticClass:"col-md-4"},[a("offerCard",{attrs:{offer:t}})],1)})),0),t.totalPages>1?a("div",{staticClass:"pagination-container"},[a("div",{staticClass:"center con-pagination"},[a("vs-pagination",{attrs:{progress:"",length:t.totalPages},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)]):t._e()])])],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{display:"flex",flex:"1"}},[a("div",{staticClass:"logo"},[a("img",{staticStyle:{width:"30px","margin-right":"8px","margin-top":"3px"},attrs:{src:s("d605"),alt:""}})]),a("div",[a("h4",{staticClass:"head"},[t._v("Offers")])])])}],r=(s("d3b7"),s("2b3d"),s("3ca3"),s("ddb0"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"offer-card"},[s("div",{staticClass:"offer-header"},[t.offer.photo?s("img",{attrs:{src:t.offer.photo,alt:""}}):t._e()]),s("div",{staticClass:"offer-content"},[s("h5",[t._v(" "+t._s(t.offer.title)+" ")]),s("div",{staticClass:"offer-value"},[t._v(" "+t._s(t.offer.price)+" "),s("br"),t._v(" Price ")])]),s("div",{staticClass:"offer-subscribers"},[s("vs-avatar-group",{attrs:{max:"7"}},t._l(t.offer.users,(function(t){return s("vs-avatar",{key:t.id},[s("img",{attrs:{src:t.photo,alt:""}})])})),1)],1),s("div",[s("vs-button",{on:{click:function(e){return t.$router.push("/add-membership?id="+t.offer.id+"&type=offer&title="+t.offer.title+"&duration="+t.offer.duration+"&frees="+(t.offer.frees>0?t.offer.frees:0)+"&price="+(t.offer.price>0?t.offer.price:0)+"&sessions="+(t.offer.sessions>0?t.offer.sessions:0))}}},[t._v("+")])],1)])}),o=[],d={props:["offer"]},f=d,n=(s("3641"),s("2877")),l=Object(n["a"])(f,r,o,!1,null,"7ccee101",null),c=l.exports,u=s("be3b"),p={components:{offerCard:c},data:function(){return{offers:[],page:1,totalPages:1,addOffer:{},photo:"",url:""}},watch:{page:function(t){this.getOffers(t)}},methods:{isAdmin:function(){return"admin"==JSON.parse(localStorage.getItem("OxfitGymUser")).role},addNewOffer:function(){var t=this,e=this.$vs.loading();"Days"==this.addOffer.time?this.addOffer.duration+="D":"Houres"==this.addOffer.time?this.addOffer.duration+="H":"Minutes"==this.addOffer.time&&(this.addOffer.duration+="M"),this.$bvModal.hide("modal-add-offer");var s=new FormData;s.append("title",this.addOffer.title),s.append("price",this.addOffer.price),s.append("duration",this.addOffer.duration),s.append("sessions",this.addOffer.sessions),s.append("frees",this.addOffer.frees),this.photo&&s.append("photo",this.photo),u["a"].post("/addOffer",s).then((function(){t.$vs.notification({title:"Success !",text:"Membership Added Successfully",color:"success",position:"top-center"}),t.getOffers()})).finally((function(){return e.close()}))},handleAddOffer:function(){this.$bvModal.show("modal-add-offer")},getOffers:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,s=this.$vs.loading();u["a"].get("/getOffers?page=".concat(e)).then((function(e){t.offers=e.data.docs,t.page=e.data.page,t.totalPages=e.data.totalPages})).finally((function(){return s.close()}))},file_selected:function(t){t.target.files.length>0&&(this.url=null,this.photo=t.target.files[0],this.url=URL.createObjectURL(this.photo))}},created:function(){this.getOffers()}},v=p,h=(s("266d"),Object(n["a"])(v,a,i,!1,null,null,null));e["default"]=h.exports}}]);
//# sourceMappingURL=chunk-5899a575.e1f67990.js.map