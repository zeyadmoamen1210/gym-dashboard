{"version":3,"sources":["webpack:///./src/assets/money-bag-with-dollar-symbol.svg","webpack:///./src/assets/debt.svg","webpack:///./src/views/Payments.vue?3c71","webpack:///src/views/Payments.vue","webpack:///./src/views/Payments.vue?f1fd","webpack:///./src/views/Payments.vue","webpack:///./src/assets/dollar-symbol.svg","webpack:///./src/views/Payments.vue?bdc9","webpack:///./src/assets/trash.svg","webpack:///./src/assets/delete.svg"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","scopedSlots","_u","key","fn","_v","proxy","_l","tr","i","attrs","staticStyle","user","photo","_s","username","Date","createdAt","toLocaleDateString","Obligation","TotalRecieved","dateObligation","length","status","date","toFixed","style","find","ele","on","$event","$router","push","memb","isAdmin","handleDeleteMembership","_e","totalPages","model","value","callback","$$v","page","expression","removeMemb","showDeleteConfirm","staticRenderFns","currMemb","component"],"mappings":"8HAAAA,EAAOC,QAAU,IAA0B,iD,uBCA3CD,EAAOC,QAAU,IAA0B,yB,yCCA3C,IAAIC,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACN,EAAIO,GAAG,GAAGH,EAAG,WAAW,CAACI,YAAYR,EAAIS,GAAG,CAAC,CAACC,IAAI,QAAQC,GAAG,WAAW,MAAO,CAACP,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACJ,EAAIY,GAAG,eAAeR,EAAG,QAAQ,CAACJ,EAAIY,GAAG,kBAAkBR,EAAG,QAAQ,CAACJ,EAAIY,GAAG,qBAAqBR,EAAG,QAAQ,CAACJ,EAAIY,GAAG,eAAeR,EAAG,MAAMJ,EAAIY,GAAG,cAAcR,EAAG,QAAQ,CAACJ,EAAIY,GAAG,oBAAoBR,EAAG,QAAQ,CAACJ,EAAIY,GAAG,cAAcR,EAAG,QAAQ,CAACJ,EAAIY,GAAG,aAAaR,EAAG,MAAMJ,EAAIY,GAAG,WAAWR,EAAG,QAAQ,CAACJ,EAAIY,GAAG,gBAAgB,KAAKC,OAAM,GAAM,CAACH,IAAI,QAAQC,GAAG,WAAW,OAAOX,EAAIc,GAAId,EAAY,UAAE,SAASe,EAAGC,GAAG,OAAOZ,EAAG,QAAQ,CAACM,IAAIM,EAAEC,MAAM,CAAC,KAAOF,IAAK,CAACX,EAAG,QAAQ,CAACc,YAAY,CAAC,QAAU,SAAS,CAACd,EAAG,YAAY,CAACa,MAAM,CAAC,QAAU,GAAG,mBAAmB,KAAK,CAACb,EAAG,MAAM,CAACa,MAAM,CAAC,IAAMF,EAAGI,KAAKC,MAAM,IAAM,QAAQhB,EAAG,OAAO,CAACc,YAAY,CAAC,QAAU,SAAS,CAAClB,EAAIY,GAAG,IAAIZ,EAAIqB,GAAGN,EAAGI,KAAKG,UAAU,QAAQ,GAAGlB,EAAG,QAAQ,CAACJ,EAAIY,GAAG,IAAIZ,EAAIqB,GAAG,IAAIE,KAAKR,EAAGS,WAAWC,sBAAsB,OAAOrB,EAAG,QAAQ,CAACA,EAAG,MAAM,CAACc,YAAY,CAAC,MAAQ,QAAQD,MAAM,CAAC,IAAM,EAAQ,QAA6C,IAAM,MAAMjB,EAAIY,GAAG,IAAIZ,EAAIqB,GAAGN,EAAGW,WAAWC,eAAe,OAAOvB,EAAG,QAAQ,CAACJ,EAAIY,GAAG,IAAIZ,EAAIqB,GAAGN,EAAGW,WAAWA,YAAY,OAAOtB,EAAG,QAAQ,CAA0D,YAAxDW,EAAGa,eAAeb,EAAGa,eAAeC,OAAO,GAAGC,OAAsB1B,EAAG,aAAa,CAACa,MAAM,CAAC,MAAQ,WAAWT,YAAYR,EAAIS,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,WAAW,MAAO,CAACP,EAAG,OAAO,CAACc,YAAY,CAAC,cAAc,SAAS,CAAClB,EAAIY,GAAG,gBAAgBC,OAAM,IAAO,MAAK,IAAO,CAACT,EAAG,MAAM,CAACc,YAAY,CAAC,WAAa,UAAU,OAAS,MAAM,MAAQ,MAAM,gBAAgB,MAAM,QAAU,eAAe,OAAS,WAAWlB,EAAIY,GAAG,IAAIZ,EAAIqB,GAAG,IAAIE,KAAKR,EAAGa,eAAeb,EAAGa,eAAeC,OAAO,GAAGE,MAAMN,sBAAsB,OAAgE,YAAxDV,EAAGa,eAAeb,EAAGa,eAAeC,OAAO,GAAGC,OAAsB1B,EAAG,aAAa,CAACa,MAAM,CAAC,MAAQ,WAAWT,YAAYR,EAAIS,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,WAAW,MAAO,CAACP,EAAG,OAAO,CAACc,YAAY,CAAC,cAAc,SAAS,CAAClB,EAAIY,GAAG,YAAYC,OAAM,IAAO,MAAK,IAAO,CAACT,EAAG,MAAM,CAACc,YAAY,CAAC,WAAa,UAAU,OAAS,MAAM,MAAQ,MAAM,gBAAgB,MAAM,QAAU,eAAe,OAAS,WAAWlB,EAAIY,GAAG,IAAIZ,EAAIqB,GAAG,IAAIE,KAAKR,EAAGa,eAAeb,EAAGa,eAAeC,OAAO,GAAGE,MAAMN,sBAAsB,OAAgE,SAAxDV,EAAGa,eAAeb,EAAGa,eAAeC,OAAO,GAAGC,OAAmB1B,EAAG,aAAa,CAACa,MAAM,CAAC,MAAQ,UAAUT,YAAYR,EAAIS,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,WAAW,MAAO,CAACP,EAAG,OAAO,CAACc,YAAY,CAAC,cAAc,SAAS,CAAClB,EAAIY,GAAG,aAAaC,OAAM,IAAO,MAAK,IAAO,CAACT,EAAG,MAAM,CAACc,YAAY,CAAC,WAAa,UAAU,OAAS,MAAM,MAAQ,MAAM,gBAAgB,MAAM,QAAU,eAAe,OAAS,WAAWlB,EAAIY,GAAG,IAAIZ,EAAIqB,GAAG,IAAIE,KAAKR,EAAGa,eAAeb,EAAGa,eAAeC,OAAO,GAAGE,MAAMN,sBAAsB,OAAOrB,EAAG,aAAa,CAACa,MAAM,CAAC,MAAQ,WAAWT,YAAYR,EAAIS,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,WAAW,MAAO,CAACP,EAAG,OAAO,CAACc,YAAY,CAAC,cAAc,SAAS,CAAClB,EAAIY,GAAG,iBAAiBC,OAAM,IAAO,MAAK,IAAO,CAACT,EAAG,MAAM,CAACc,YAAY,CAAC,WAAa,UAAU,OAAS,MAAM,MAAQ,MAAM,gBAAgB,MAAM,QAAU,eAAe,OAAS,WAAWlB,EAAIY,GAAG,WAAW,GAAGR,EAAG,QAAQ,CAACA,EAAG,aAAa,CAACa,MAAM,CAAC,MAAQ,WAAWT,YAAYR,EAAIS,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,WAAW,MAAO,CAACP,EAAG,OAAO,CAACc,YAAY,CAAC,cAAc,SAAS,CAAClB,EAAIY,GAAG,WAAWZ,EAAIqB,IAAmC,IAA9BN,EAAGW,WAAWC,eAAyBZ,EAAGW,WAAWA,WAAaX,EAAGW,WAAWC,gBAAgBK,QAAQ,IAAI,UAAUnB,OAAM,IAAO,MAAK,IAAO,CAACT,EAAG,MAAM,CAACE,YAAY,UAAU,CAAiC,IAA9BS,EAAGW,WAAWC,eAAyBZ,EAAGW,WAAWA,WAAaX,EAAGW,WAAWC,gBAAkB,GAAIvB,EAAG,MAAM,CAAC6B,MAAM,CAChmH,MAAuC,IAA9BlB,EAAGW,WAAWC,eAAyBZ,EAAGW,WAAWA,WAAaX,EAAGW,WAAWC,eAAe,IACxG,WAAc,aACuB,IAA9BZ,EAAGW,WAAWC,eAAyBZ,EAAGW,WAAWA,WAAaX,EAAGW,WAAWC,eAAiB,IAAqC,IAA9BZ,EAAGW,WAAWC,eAAyBZ,EAAGW,WAAWA,WAAaX,EAAGW,WAAWC,gBAAkB,GAAIvB,EAAG,MAAM,CAAC6B,MAAM,CACpO,MAAuC,IAA9BlB,EAAGW,WAAWC,eAAyBZ,EAAGW,WAAWA,WAAaX,EAAGW,WAAWC,eAAe,IACxG,mBAAoB,aACfvB,EAAG,MAAM,CAAC6B,MAAM,CAAE,MAAuC,IAA9BlB,EAAGW,WAAWC,eAAyBZ,EAAGW,WAAWA,WAAaX,EAAGW,WAAWC,eAAgB,IAClI,mBAAoB,kBAAmB,GAAIZ,EAAGa,eAAeC,OAAS,GAAKd,EAAGa,eAAeM,MAAK,SAAUC,GAAO,MAAqB,YAAdA,EAAIL,UAA0B1B,EAAG,QAAQ,CAACJ,EAAIY,GAAG,IAAIZ,EAAIqB,GAAG,IAAIE,KAAKR,EAAGa,eAAeM,MAAK,SAAUC,GAAO,MAAqB,YAAdA,EAAIL,UAAyBC,MAAMN,sBAAsB,OAAOrB,EAAG,QAAQ,CAACJ,EAAIY,GAAG,UAAUR,EAAG,QAAQ,CAACc,YAAY,IAAI,CAACd,EAAG,YAAY,CAACa,MAAM,CAAC,MAAQ,WAAW,OAAS,GAAG,KAAO,GAAG,SAAW,IAAImB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOrC,EAAIsC,QAAQC,KAAM,YAAexB,EAAGyB,KAAK,GAAK,OAAO,CAACpC,EAAG,MAAM,CAACc,YAAY,CAAC,MAAQ,QAAQD,MAAM,CAAC,IAAM,EAAQ,QAA8B,IAAM,QAASjB,EAAIyC,UAAWrC,EAAG,YAAY,CAACa,MAAM,CAAC,MAAQ,UAAU,OAAS,GAAG,KAAO,GAAG,SAAW,IAAImB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOrC,EAAI0C,uBAAuB3B,MAAO,CAACX,EAAG,MAAM,CAACc,YAAY,CAAC,MAAQ,QAAQD,MAAM,CAAC,IAAM,EAAQ,QAAuB,IAAM,QAAQjB,EAAI2C,KAAKvC,EAAG,YAAY,CAACa,MAAM,CAAC,MAAQ,OAAO,OAAS,GAAG,KAAO,GAAG,SAAW,IAAImB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOrC,EAAIsC,QAAQC,KAAM,oBAAuBxB,EAAGI,KAAO,OAAO,CAACf,EAAG,MAAM,CAACc,YAAY,CAAC,MAAQ,QAAQD,MAAM,CAAC,IAAM,EAAQ,QAAqB,IAAM,SAAS,IAAI,OAAMJ,OAAM,GAAOb,EAAI4C,WAAa,EAAG,CAAClC,IAAI,SAASC,GAAG,WAAW,MAAO,CAACP,EAAG,gBAAgB,CAACa,MAAM,CAAC,OAASjB,EAAI4C,YAAYC,MAAM,CAACC,MAAO9C,EAAQ,KAAE+C,SAAS,SAAUC,GAAMhD,EAAIiD,KAAKD,GAAKE,WAAW,YAAYrC,OAAM,GAAM,MAAM,MAAK,MAAS,GAAGT,EAAG,YAAY,CAACa,MAAM,CAAC,MAAQ,SAAS,MAAQ,QAAQ,aAAa,IAAIT,YAAYR,EAAIS,GAAG,CAAC,CAACC,IAAI,SAASC,GAAG,WAAW,MAAO,CAACP,EAAG,KAAK,CAACE,YAAY,cAAc,CAACN,EAAIY,GAAG,2BAA2BC,OAAM,GAAM,CAACH,IAAI,SAASC,GAAG,WAAW,MAAO,CAACP,EAAG,MAAM,CAACE,YAAY,aAAaY,YAAY,CAAC,QAAU,SAAS,CAACd,EAAG,YAAY,CAACa,MAAM,CAAC,MAAQ,SAAS,YAAc,IAAImB,GAAG,CAAC,MAAQpC,EAAImD,aAAa,CAAC/C,EAAG,MAAM,CAACc,YAAY,CAAC,MAAQ,OAAO,OAAS,SAASD,MAAM,CAAC,IAAM,EAAQ,SAAsB,IAAM,MAAMjB,EAAIY,GAAG,UAAUR,EAAG,YAAY,CAACa,MAAM,CAAC,KAAO,GAAG,YAAc,IAAImB,GAAG,CAAC,MAAQ,SAASC,GAAQrC,EAAIoD,mBAAkB,KAAS,CAACpD,EAAIY,GAAG,eAAe,KAAKC,OAAM,KAAQgC,MAAM,CAACC,MAAO9C,EAAqB,kBAAE+C,SAAS,SAAUC,GAAMhD,EAAIoD,kBAAkBJ,GAAKE,WAAW,sBAAsB,CAAC9C,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,IAAI,CAACJ,EAAIY,GAAG,4DAA4D,IACxzEyC,EAAkB,CAAC,WAAa,IAAIrD,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,MAAM,CAACA,EAAG,KAAK,CAACE,YAAY,QAAQ,CAACN,EAAIY,GAAG,oB,oCCwNjM,GACE,KAAF,WAAI,MAAJ,CACM,KAAN,EACM,WAAN,EACM,SAAN,GACMwC,mBAAmB,EACnBE,SAAN,KAEE,QARF,WASI,KAAJ,YAEE,MAAF,CACI,KADJ,SACA,GACM,KAAN,cAGE,QAAF,CACI,QADJ,WAEM,MAAN,gEAEI,uBAJJ,SAIA,GACM,KAAN,8BACM,KAAN,sBAEI,WARJ,WAQM,IAAN,OACA,qBACM,KAAN,qBACM,EAAN,+BAAQ,aAAR,oCACQ,EAAR,kBACU,MAAV,YACU,KAAV,kCACU,MAAV,UACU,SAAV,eAEQ,EAAR,cACA,oBAAQ,OAAR,cAEI,SArBJ,WAqBM,IAAN,kEACA,qBACM,EAAN,wDACQ,EAAR,qBACQ,EAAR,iBACQ,EAAR,gCACA,oBAAQ,OAAR,gBC3QkV,I,wBCQ9UC,EAAY,eACd,EACAxD,EACAsD,GACA,EACA,KACA,KACA,MAIa,aAAAE,E,8BCnBf1D,EAAOC,QAAU,IAA0B,kC,kCCA3C,W,sBCAAD,EAAOC,QAAU,IAA0B,0B,qBCA3CD,EAAOC,QAAU,IAA0B","file":"js/chunk-14d1e8b4.dcf42035.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/money-bag-with-dollar-symbol.2264c3e6.svg\";","module.exports = __webpack_public_path__ + \"img/debt.b73fe6a7.svg\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"payments\"},[_c('div',{staticClass:\"container\"},[_vm._m(0),_c('vs-table',{scopedSlots:_vm._u([{key:\"thead\",fn:function(){return [_c('vs-tr',[_c('vs-th',[_vm._v(\" User ID \")]),_c('vs-th',[_vm._v(\" Created At \")]),_c('vs-th',[_vm._v(\" Total Recived \")]),_c('vs-th',[_vm._v(\" Obligated \"),_c('br'),_vm._v(\" Amount \")]),_c('vs-th',[_vm._v(\" Last Invoice \")]),_c('vs-th',[_vm._v(\" Target \")]),_c('vs-th',[_vm._v(\" Next Due\"),_c('br'),_vm._v(\" One \")]),_c('vs-th',[_vm._v(\" Actions \")])],1)]},proxy:true},{key:\"tbody\",fn:function(){return _vm._l((_vm.payments),function(tr,i){return _c('vs-tr',{key:i,attrs:{\"data\":tr}},[_c('vs-td',{staticStyle:{\"display\":\"flex\"}},[_c('vs-avatar',{attrs:{\"history\":\"\",\"history-gradient\":\"\"}},[_c('img',{attrs:{\"src\":tr.user.photo,\"alt\":\"\"}})]),_c('span',{staticStyle:{\"padding\":\"10px\"}},[_vm._v(\" \"+_vm._s(tr.user.username)+\" \")])],1),_c('vs-td',[_vm._v(\" \"+_vm._s(new Date(tr.createdAt).toLocaleDateString())+\" \")]),_c('vs-td',[_c('img',{staticStyle:{\"width\":\"20px\"},attrs:{\"src\":require(\"@/assets/money-bag-with-dollar-symbol.svg\"),\"alt\":\"\"}}),_vm._v(\" \"+_vm._s(tr.Obligation.TotalRecieved)+\" \")]),_c('vs-td',[_vm._v(\" \"+_vm._s(tr.Obligation.Obligation)+\" \")]),_c('vs-td',[(tr.dateObligation[tr.dateObligation.length-1].status == 'upcoming')?_c('vs-tooltip',{attrs:{\"color\":\"#ffc107\"},scopedSlots:_vm._u([{key:\"tooltip\",fn:function(){return [_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\"Upcoming\")])]},proxy:true}],null,true)},[_c('div',{staticStyle:{\"background\":\"#ffc107\",\"height\":\"8px\",\"width\":\"8px\",\"border-radius\":\"50%\",\"display\":\"inline-block\",\"margin\":\"0 3px\"}}),_vm._v(\" \"+_vm._s(new Date(tr.dateObligation[tr.dateObligation.length-1].date).toLocaleDateString())+\" \")]):(tr.dateObligation[tr.dateObligation.length-1].status == 'upcoming')?_c('vs-tooltip',{attrs:{\"color\":\"#25D366\"},scopedSlots:_vm._u([{key:\"tooltip\",fn:function(){return [_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\"Paid\")])]},proxy:true}],null,true)},[_c('div',{staticStyle:{\"background\":\"#25D366\",\"height\":\"8px\",\"width\":\"8px\",\"border-radius\":\"50%\",\"display\":\"inline-block\",\"margin\":\"0 3px\"}}),_vm._v(\" \"+_vm._s(new Date(tr.dateObligation[tr.dateObligation.length-1].date).toLocaleDateString())+\" \")]):(tr.dateObligation[tr.dateObligation.length-1].status == 'draft')?_c('vs-tooltip',{attrs:{\"color\":\"danger\"},scopedSlots:_vm._u([{key:\"tooltip\",fn:function(){return [_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\"Draft\")])]},proxy:true}],null,true)},[_c('div',{staticStyle:{\"background\":\"#25D366\",\"height\":\"8px\",\"width\":\"8px\",\"border-radius\":\"50%\",\"display\":\"inline-block\",\"margin\":\"0 3px\"}}),_vm._v(\" \"+_vm._s(new Date(tr.dateObligation[tr.dateObligation.length-1].date).toLocaleDateString())+\" \")]):_c('vs-tooltip',{attrs:{\"color\":\"primary\"},scopedSlots:_vm._u([{key:\"tooltip\",fn:function(){return [_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\"Not Found\")])]},proxy:true}],null,true)},[_c('div',{staticStyle:{\"background\":\"#25D366\",\"height\":\"8px\",\"width\":\"8px\",\"border-radius\":\"50%\",\"display\":\"inline-block\",\"margin\":\"0 3px\"}}),_vm._v(\" -- \")])],1),_c('vs-td',[_c('vs-tooltip',{attrs:{\"color\":\"#2C4484\"},scopedSlots:_vm._u([{key:\"tooltip\",fn:function(){return [_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\"target: \"+_vm._s(((tr.Obligation.TotalRecieved * 100 ) / (tr.Obligation.Obligation + tr.Obligation.TotalRecieved)).toFixed(2))+\" %\")])]},proxy:true}],null,true)},[_c('div',{staticClass:\"target\"},[((tr.Obligation.TotalRecieved * 100 ) / (tr.Obligation.Obligation + tr.Obligation.TotalRecieved) <= 30)?_c('div',{style:({\n                       'width':(tr.Obligation.TotalRecieved * 100 ) / (tr.Obligation.Obligation + tr.Obligation.TotalRecieved)+'%',\n                       'background': '#dc3545'\n                       })}):((tr.Obligation.TotalRecieved * 100 ) / (tr.Obligation.Obligation + tr.Obligation.TotalRecieved) > 30 && (tr.Obligation.TotalRecieved * 100 ) / (tr.Obligation.Obligation + tr.Obligation.TotalRecieved) <= 70)?_c('div',{style:({\n                        'width':(tr.Obligation.TotalRecieved * 100 ) / (tr.Obligation.Obligation + tr.Obligation.TotalRecieved)+'%',\n                        'background-color': '#ffc107'\n                        })}):_c('div',{style:({'width':(tr.Obligation.TotalRecieved * 100 ) / (tr.Obligation.Obligation + tr.Obligation.TotalRecieved) +'%',\n                      'background-color': '#28a745'})})])])],1),(tr.dateObligation.length > 0 && tr.dateObligation.find(function (ele) { return ele.status == 'upcoming'; }))?_c('vs-td',[_vm._v(\" \"+_vm._s(new Date(tr.dateObligation.find(function (ele) { return ele.status == 'upcoming'; }).date).toLocaleDateString())+\" \")]):_c('vs-td',[_vm._v(\" -- \")]),_c('vs-td',{staticStyle:{}},[_c('vs-button',{attrs:{\"color\":\"whatsapp\",\"circle\":\"\",\"icon\":\"\",\"floating\":\"\"},on:{\"click\":function($event){return _vm.$router.push((\"payments/\" + (tr.memb[0].id)))}}},[_c('img',{staticStyle:{\"width\":\"15px\"},attrs:{\"src\":require(\"@/assets/dollar-symbol.svg\"),\"alt\":\"\"}})]),(_vm.isAdmin())?_c('vs-button',{attrs:{\"color\":\"#ff3e4e\",\"circle\":\"\",\"icon\":\"\",\"floating\":\"\"},on:{\"click\":function($event){return _vm.handleDeleteMembership(tr)}}},[_c('img',{staticStyle:{\"width\":\"15px\"},attrs:{\"src\":require(\"@/assets/delete.svg\"),\"alt\":\"\"}})]):_vm._e(),_c('vs-button',{attrs:{\"color\":\"#333\",\"circle\":\"\",\"icon\":\"\",\"floating\":\"\"},on:{\"click\":function($event){return _vm.$router.push((\"/payment-history/\" + (tr.user.id)))}}},[_c('img',{staticStyle:{\"width\":\"15px\"},attrs:{\"src\":require(\"@/assets/debt.svg\"),\"alt\":\"\"}})])],1)],1)})},proxy:true},(_vm.totalPages > 1)?{key:\"footer\",fn:function(){return [_c('vs-pagination',{attrs:{\"length\":_vm.totalPages},model:{value:(_vm.page),callback:function ($$v) {_vm.page=$$v},expression:\"page\"}})]},proxy:true}:null],null,true)})],1),_c('vs-dialog',{attrs:{\"color\":\"danger\",\"width\":\"550px\",\"not-center\":\"\"},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('h4',{staticClass:\"not-margin\"},[_vm._v(\" Delete Membership \")])]},proxy:true},{key:\"footer\",fn:function(){return [_c('div',{staticClass:\"con-footer\",staticStyle:{\"display\":\"flex\"}},[_c('vs-button',{attrs:{\"color\":\"danger\",\"transparent\":\"\"},on:{\"click\":_vm.removeMemb}},[_c('img',{staticStyle:{\"width\":\"20px\",\"margin\":\"0 4px\"},attrs:{\"src\":require(\"@/assets/trash.svg\"),\"alt\":\"\"}}),_vm._v(\" Ok \")]),_c('vs-button',{attrs:{\"dark\":\"\",\"transparent\":\"\"},on:{\"click\":function($event){_vm.showDeleteConfirm=false}}},[_vm._v(\" Cancel \")])],1)]},proxy:true}]),model:{value:(_vm.showDeleteConfirm),callback:function ($$v) {_vm.showDeleteConfirm=$$v},expression:\"showDeleteConfirm\"}},[_c('div',{staticClass:\"con-content\"},[_c('p',[_vm._v(\" Are You Sure You Want To Delete This Membership \")])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"payments-head\"},[_c('div',[_c('h4',{staticClass:\"head\"},[_vm._v(\"Payments\")])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"payments\">\r\n    <div class=\"container\">\r\n      <div class=\"payments-head\">\r\n        <div>\r\n          <h4 class=\"head\">Payments</h4>\r\n        </div>\r\n        <!-- <div>\r\n          <div class=\"form-group\">\r\n             <vs-input state=\"primary\" primary v-model=\"search\" placeholder=\"Search ..\">\r\n                <template #icon>\r\n                  <img style=\"width:15px\" src=\"@/assets/loupe.svg\" alt=\"\">\r\n                </template>\r\n              </vs-input>\r\n          </div>\r\n        </div> -->\r\n      </div>\r\n      <!-- {{payments}} -->\r\n    <vs-table>\r\n        <template #thead>\r\n          <vs-tr>\r\n            <vs-th>\r\n              User ID\r\n            </vs-th>\r\n            <!-- <vs-th>\r\n              Membership Type\r\n            </vs-th> -->\r\n            <vs-th>\r\n              Created At\r\n            </vs-th>\r\n            <vs-th>\r\n              Total Recived\r\n            </vs-th>\r\n            <vs-th>\r\n              Obligated <br/> Amount\r\n            </vs-th>\r\n            <!-- <vs-th>\r\n              Total Recived\r\n            </vs-th> -->\r\n            <vs-th>\r\n              Last Invoice\r\n            </vs-th>\r\n            <vs-th>\r\n              Target\r\n            </vs-th>\r\n            <vs-th>\r\n              Next Due<br/> One\r\n            </vs-th>\r\n            <vs-th>\r\n              Actions\r\n            </vs-th>\r\n          </vs-tr>\r\n        </template>\r\n        <template #tbody>\r\n          <vs-tr\r\n            :key=\"i\"\r\n            v-for=\"(tr, i) in payments\"\r\n            :data=\"tr\"\r\n          >\r\n          \r\n             <vs-td style=\"display:flex\">\r\n              <vs-avatar history history-gradient>\r\n                <img :src=\"tr.user.photo\" alt=\"\">\r\n              </vs-avatar>\r\n              <span style=\"    padding: 10px;\">\r\n                {{ tr.user.username }}\r\n              </span>\r\n            </vs-td>\r\n            <!-- <vs-td>\r\n              <img style=\"width:20px\" src=\"@/assets/history.svg\" alt=\"\">\r\n            {{ tr.membershipType }}\r\n            </vs-td> -->\r\n            <vs-td>\r\n            {{ new Date(tr.createdAt).toLocaleDateString() }}\r\n            </vs-td>\r\n            <vs-td>\r\n                <img style=\"width:20px\" src=\"@/assets/money-bag-with-dollar-symbol.svg\" alt=\"\">\r\n            {{ tr.Obligation.TotalRecieved }}\r\n            </vs-td>\r\n            <vs-td>\r\n            {{ tr.Obligation.Obligation }}\r\n            </vs-td>\r\n            <!-- <vs-td>\r\n            {{ tr.Obligation.TotalRecieved }}\r\n            </vs-td> -->\r\n            \r\n            <vs-td >\r\n                <vs-tooltip color=\"#ffc107\" v-if=\"tr.dateObligation[tr.dateObligation.length-1].status == 'upcoming'\">\r\n                    <template #tooltip>\r\n                        <span style=\"font-weight:bold\">Upcoming</span>\r\n                    </template>\r\n                    <div  style=\"    background: #ffc107;height: 8px;width: 8px;border-radius: 50%;display: inline-block;margin: 0 3px;\"></div>\r\n                    {{new Date(tr.dateObligation[tr.dateObligation.length-1].date).toLocaleDateString()}}\r\n                </vs-tooltip>\r\n                <vs-tooltip color=\"#25D366\" v-else-if=\"tr.dateObligation[tr.dateObligation.length-1].status == 'upcoming'\">\r\n                    <template #tooltip>\r\n                        <span style=\"font-weight:bold\">Paid</span>\r\n                    </template>\r\n                    <div  style=\"    background: #25D366;height: 8px;width: 8px;border-radius: 50%;display: inline-block;margin: 0 3px;\"></div>\r\n                    {{new Date(tr.dateObligation[tr.dateObligation.length-1].date).toLocaleDateString()}}\r\n                </vs-tooltip>\r\n                <vs-tooltip color=\"danger\" v-else-if=\"tr.dateObligation[tr.dateObligation.length-1].status == 'draft'\">\r\n                    <template #tooltip>\r\n                        <span style=\"font-weight:bold\">Draft</span>\r\n                    </template>\r\n                    <div  style=\"    background: #25D366;height: 8px;width: 8px;border-radius: 50%;display: inline-block;margin: 0 3px;\"></div>\r\n                    {{new Date(tr.dateObligation[tr.dateObligation.length-1].date).toLocaleDateString()}}\r\n                </vs-tooltip>\r\n                \r\n\r\n                <vs-tooltip color=\"primary\" v-else>\r\n                    <template #tooltip>\r\n                        <span style=\"font-weight:bold\">Not Found</span>\r\n                    </template>\r\n                    <div  style=\"    background: #25D366;height: 8px;width: 8px;border-radius: 50%;display: inline-block;margin: 0 3px;\"></div>\r\n                    --\r\n                </vs-tooltip>\r\n\r\n\r\n            </vs-td>\r\n            <vs-td>\r\n                <vs-tooltip color=\"#2C4484\">\r\n                    <template #tooltip>\r\n                        <span style=\"font-weight:bold\">target: {{ ((tr.Obligation.TotalRecieved * 100 ) / (tr.Obligation.Obligation + tr.Obligation.TotalRecieved)).toFixed(2) }} %</span>\r\n                    </template>\r\n                    <div class=\"target\">\r\n                        <div v-if=\"(tr.Obligation.TotalRecieved * 100 ) / (tr.Obligation.Obligation + tr.Obligation.TotalRecieved) <= 30\"\r\n                        :style=\"{\r\n                         'width':(tr.Obligation.TotalRecieved * 100 ) / (tr.Obligation.Obligation + tr.Obligation.TotalRecieved)+'%',\r\n                         'background': '#dc3545'\r\n                         }\"></div>\r\n                        <div v-else-if=\"(tr.Obligation.TotalRecieved * 100 ) / (tr.Obligation.Obligation + tr.Obligation.TotalRecieved) > 30 && (tr.Obligation.TotalRecieved * 100 ) / (tr.Obligation.Obligation + tr.Obligation.TotalRecieved) <= 70\" \r\n                        :style=\"{\r\n                          'width':(tr.Obligation.TotalRecieved * 100 ) / (tr.Obligation.Obligation + tr.Obligation.TotalRecieved)+'%',\r\n                          'background-color': '#ffc107'\r\n                          }\"></div>\r\n                        <div v-else \r\n                        :style=\"{'width':(tr.Obligation.TotalRecieved * 100 ) / (tr.Obligation.Obligation + tr.Obligation.TotalRecieved) +'%',\r\n                        'background-color': '#28a745'}\"></div>\r\n                    </div>\r\n                </vs-tooltip>\r\n                \r\n            </vs-td>\r\n            <vs-td v-if=\"tr.dateObligation.length > 0 && tr.dateObligation.find(ele => ele.status == 'upcoming')\">\r\n                {{new Date(tr.dateObligation.find(ele => ele.status == 'upcoming').date).toLocaleDateString()}}\r\n            </vs-td>\r\n            <vs-td v-else>\r\n                --\r\n            </vs-td>\r\n            <vs-td style=\"actions\">\r\n            <vs-button\r\n              color=\"whatsapp\"\r\n              circle\r\n              icon\r\n              floating\r\n              @click=\"$router.push(`payments/${tr.memb[0].id}`)\"\r\n            >\r\n               <img style=\"width:15px\" src=\"@/assets/dollar-symbol.svg\" alt=\"\">\r\n            </vs-button>\r\n\r\n            <vs-button\r\n              color=\"#ff3e4e\"\r\n              circle\r\n              icon\r\n              floating\r\n              @click=\"handleDeleteMembership(tr)\"\r\n              v-if=\"isAdmin()\"\r\n            >\r\n              <img style=\"width:15px\" src=\"@/assets/delete.svg\" alt=\"\">\r\n            </vs-button>\r\n\r\n\r\n            <vs-button\r\n              color=\"#333\"\r\n              circle\r\n              icon\r\n              floating\r\n              @click=\"$router.push(`/payment-history/${tr.user.id}`)\"\r\n            >\r\n              <img style=\"width:15px\" src=\"@/assets/debt.svg\" alt=\"\">\r\n            </vs-button>\r\n            </vs-td>\r\n          </vs-tr>\r\n        </template>\r\n        <template #footer v-if=\"totalPages > 1\">\r\n          <vs-pagination v-model=\"page\" :length=\"totalPages\" />\r\n        </template>\r\n      </vs-table>\r\n  </div>\r\n\r\n\r\n        <vs-dialog color=\"danger\" width=\"550px\" not-center v-model=\"showDeleteConfirm\">\r\n        <template #header>\r\n          <h4 class=\"not-margin\">\r\n            Delete Membership \r\n          </h4>\r\n        </template>\r\n\r\n\r\n        <div class=\"con-content\">\r\n          <p>\r\n            Are You Sure You Want To Delete This Membership\r\n          </p>\r\n        </div>\r\n\r\n        <template #footer>\r\n          <div class=\"con-footer\" style=\"display:flex\">\r\n            <vs-button color=\"danger\" @click=\"removeMemb\" transparent>\r\n              <img style=\"width: 20px;margin: 0 4px;\" src=\"@/assets/trash.svg\" alt=\"\"> Ok\r\n            </vs-button>\r\n            <vs-button @click=\"showDeleteConfirm=false\" dark transparent>\r\n              Cancel\r\n            </vs-button>\r\n          </div>\r\n        </template>\r\n      </vs-dialog>\r\n\r\n\r\n  </div>\r\n</template>\r\n<script>\r\n\r\nimport axiosApi from '@/plugins/axios.js';\r\n\r\nexport default {\r\n      data:() => ({\r\n       page:1,\r\n       totalPages: 1,\r\n       payments:[],\r\n      showDeleteConfirm: false,\r\n      currMemb:{},\r\n      }),\r\n      created(){\r\n        this.getMembs();\r\n      },\r\n      watch:{\r\n        page(val){\r\n          this.getMembs(val);\r\n        }\r\n      },\r\n      methods:{\r\n        isAdmin(){\r\n          return (JSON.parse(localStorage.getItem('OxfitGymUser')).role == 'admin')\r\n        },\r\n        handleDeleteMembership(memb){\r\n          this.currMemb = {...memb}\r\n          this.showDeleteConfirm = true;\r\n        },\r\n        removeMemb(){\r\n          const loading = this.$vs.loading();\r\n          this.showDeleteConfirm = false;\r\n          axiosApi.post(`/deleteMembership`, {membershipId: this.currMemb.id}).then(() => {\r\n            this.$vs.notification({\r\n                title:\"Success !\",\r\n                text:`Membership Deleted Successfully`,\r\n                color:\"success\",\r\n                position:\"top-center\"\r\n            });\r\n            this.getMembs();\r\n          }).finally(() => loading.close())\r\n        },\r\n        getMembs(val = 1){\r\n          let loading = this.$vs.loading();\r\n          axiosApi.get(`/getMemps?page=${val}`).then(res => {\r\n            this.payments = res.data.docs;\r\n            this.page = res.data.page;\r\n            this.totalPages = res.data.totalPages;\r\n          }).finally(() => loading.close())\r\n        },\r\n      }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.payments{\r\n  padding: 15px 23px;\r\n  .vs-table__td:last-child{\r\n      display: flex !important;\r\n      button{\r\n        margin: 0 3px;\r\n      }\r\n    }\r\n    .vs-table__td{\r\n      text-align: center;\r\n    }\r\n    .vs-table__th__content{\r\n     font-weight: 600 !important;\r\n     text-align: center;\r\n   }\r\n   .target{\r\n        width: 71px;\r\n    height: 20px;\r\n    position: relative;\r\n    background: #f5f5f5;\r\n    border-radius: 5px;\r\n    overflow: hidden;\r\n        >div{\r\n            position: absolute;\r\n            top:0;\r\n            left:0;\r\n            width:50%;\r\n            height:100%;\r\n        }\r\n    }\r\n  .payments-head{\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    div{\r\n      &:first-of-type{\r\n        flex:1;\r\n        h4{\r\n          padding-top:5px;\r\n        }\r\n      }\r\n    }\r\n   \r\n\r\n    \r\n\r\n    .head{\r\n      color:#2C4484;\r\n      font-weight: bold;\r\n      margin-bottom: 15px;\r\n      \r\n    }\r\n\r\n  }\r\n  \r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Payments.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Payments.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Payments.vue?vue&type=template&id=5484639d&\"\nimport script from \"./Payments.vue?vue&type=script&lang=js&\"\nexport * from \"./Payments.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Payments.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/dollar-symbol.e84c9222.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Payments.vue?vue&type=style&index=0&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/trash.bd7cd293.svg\";","module.exports = __webpack_public_path__ + \"img/delete.684f8542.svg\";"],"sourceRoot":""}